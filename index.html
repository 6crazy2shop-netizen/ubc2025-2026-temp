<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>UBC 2025â€“2026</title>
  <link rel="stylesheet" href="style.css" />
</head>
<body>
  <!-- Loading Screen -->
  <div id="loading-screen">
    <div class="loading-stars"><span>â˜…</span><span>â˜…</span><span>â˜…</span></div>
    <p class="loading-text">Loadingâ€¦</p>
  </div>

  <!-- Splash Screen -->
  <div id="splash-screen" class="center" style="display:none;">
    <h1 class="sparkle" data-key="splashTitle">UBC 2025â€“2026</h1>
    <p data-key="teamPromptSplash">Edit your team name:</p>
    <input type="text" id="team-name-splash" placeholder="Team Name" />
    <button id="start-btn" data-key="startBtn">Start Adventure ğŸš€</button>
    <canvas id="splash-confetti"></canvas>
  </div>

  <!-- Password Screen -->
  <div id="password-screen" class="center" style="display:none;">
    <h2 data-key="pwTitle">Enter Password</h2>
    <input type="password" id="password-input" placeholder="Password" />
    <button id="pw-btn" data-key="pwBtn">Submit</button>
    <p id="error-message"></p>
  </div>

  <!-- Main Content -->
  <main id="main-content" style="display:none;">
    <header>
      <h1 data-key="mainTitle">Ultimate Book Challenge 2025â€“2026</h1>
      <div class="controls">
        <button id="mode-toggle">ğŸŒ™ Dark Mode</button>
        <button id="lang-toggle">ğŸŒ EspaÃ±ol</button>
        <button id="friends-toggle">ğŸ‘¥ Friends</button>
        <button id="page-sound-toggle">ğŸ”Š Page Sounds On</button>
      </div>
      <p data-key="teamPromptMain">Edit your team name below:</p>
      <input type="text" id="team-name" placeholder="Team Name" />
    </header>

    <!-- Book Grid -->
    <div class="book-grid">
      <section class="book" onclick="openBook('library')">
        <h2 data-key="libraryTitle">The Lost Library</h2>
        <img src="lostlibrary.jpg" alt="The Lost Library cover" />
        <button onclick="celebrate('library');event.stopPropagation();" data-key="libraryBtn">Letâ€™s Dig It ğŸš€</button>
      </section>

      <section class="book" onclick="openBook('teacher')">
        <h2 data-key="teacherTitle">The Superteacher Project</h2>
        <img src="superteacher.jpg" alt="Superteacher cover" />
        <button onclick="celebrate('teacher');event.stopPropagation();" data-key="teacherBtn">Letâ€™s Dig It ğŸš€</button>
      </section>

      <section class="book" onclick="openBook('cat')">
        <h2 data-key="catTitle">The First Cat in Space Ate Pizza</h2>
        <img src="catinspace.jpg" alt="Cat in Space cover" />
        <button onclick="celebrate('cat');event.stopPropagation();" data-key="catBtn">Letâ€™s Dig It ğŸš€</button>
      </section>

      <section class="book" onclick="openBook('lemon')">
        <h2 data-key="lemonTitle">Escape from Mr. Lemoncelloâ€™s Library</h2>
        <img src="lemoncello.jpg" alt="Lemoncello cover" />
        <button onclick="celebrate('lemon');event.stopPropagation();" data-key="lemonBtn">Letâ€™s Dig It ğŸš€</button>
      </section>

      <section class="book" onclick="openBook('storm')">
        <h2 data-key="stormTitle">I Survived the Galveston Hurricane</h2>
        <img src="galveston.jpg" alt="Galveston Hurricane cover" />
        <button onclick="celebrate('storm');event.stopPropagation();" data-key="stormBtn">Letâ€™s Dig It ğŸš€</button>
      </section>

      <!-- Rover Flipbook -->
      <section class="book" onclick="openFlipbook('rover')">
        <h2 data-key="roverTitle">A Roverâ€™s Story</h2>
        <img src="Rover.png" alt="Rover cover" />
        <button onclick="celebrate('rover');event.stopPropagation();" data-key="roverBtn">Letâ€™s Dig It ğŸš€</button>
      </section>

      <!-- Haven Flipbook -->
      <section class="book" onclick="openFlipbook('haven')">
        <h2 data-key="havenTitle">Haven: A Small Catâ€™s Big Adventure</h2>
        <img src="Haven.png" alt="Haven cover" />
        <button onclick="celebrate('haven');event.stopPropagation();" data-key="havenBtn">Letâ€™s Dig It ğŸ¾</button>
      </section>

      <section class="book" onclick="openBook('lotus')">
        <h2 data-key="lotusTitle">Legends of Lotus Island</h2>
        <img src="lotus.jpg" alt="Lotus Island cover" />
        <button onclick="celebrate('lotus');event.stopPropagation();" data-key="lotusBtn">Letâ€™s Dig It ğŸš€</button>
      </section>
    </div>

    <!-- Team Notes Sidebar -->
    <aside id="friends-panel">
      <h2>Team Notes (Team: <span id="team-name-display"></span>)</h2>
      <textarea id="team-notes" placeholder="Type here..."></textarea>
      <button id="save-notes">Save Notes</button>
    </aside>

    <!-- Book Overlay (default summaries) -->
    <div id="book-overlay">
      <div class="overlay-content">
        <h2 id="book-title"></h2>
        <img id="book-cover" src="" alt="Book cover" />
        <p id="book-summary"></p>
        <div class="video-placeholder">ğŸ¥ Video coming soon</div>
        <button onclick="closeBook()">Close âŒ</button>
      </div>
    </div>

    <!-- Footer -->
    <footer>
      <p id="footer-text">Created by Devarani Ponna Â· Educational Use Only</p>
    </footer>

    <canvas id="fireworks" aria-hidden="true"></canvas>
  </main>

  <!-- Flipbook Overlays -->
  <div id="rover-flipbook" class="flipbook-container" style="display:none;">
    <div class="flipbook-card">
      <h2>ğŸ“– A Roverâ€™s Story</h2>
      <div class="flipbook-stage">
        <img id="rover-page" class="flipbook-page" src="" alt="Rover page" />
      </div>
      <div class="flipbook-controls">
        <button onclick="prevPage('rover')">â¬…ï¸ Prev</button>
        <button onclick="startAutoplay('rover')">â–¶ï¸ Auto-Play</button>
        <button onclick="stopAutoplay()">â¸ Stop</button>
        <button onclick="nextPage('rover')">Next â¡ï¸</button>
        <button onclick="closeFlipbook('rover')">âŒ Close</button>
      </div>
      <div class="flipbook-progress"><span id="rover-progress">1 / 41</span></div>
    </div>
  </div>

  <div id="haven-flipbook" class="flipbook-container" style="display:none;">
    <div class="flipbook-card">
      <h2>ğŸ“– Haven: A Small Catâ€™s Big Adventure</h2>
      <div class="flipbook-stage">
        <img id="haven-page" class="flipbook-page" src="" alt="Haven page" />
      </div>
      <div class="flipbook-controls">
        <button onclick="prevPage('haven')">â¬…ï¸ Prev</button>
        <button onclick="startAutoplay('haven')">â–¶ï¸ Auto-Play</button>
        <button onclick="stopAutoplay()">â¸ Stop</button>
        <button onclick="nextPage('haven')">Next â¡ï¸</button>
        <button onclick="closeFlipbook('haven')">âŒ Close</button>
      </div>
      <div class="flipbook-progress"><span id="haven-progress">1 / 8</span></div>
    </div>
  </div>

  <!-- Page Turn Sound -->
  <audio id="sound-whoosh" src="sounds/whoosh.mp3" preload="auto"></audio>

  <!-- Scripts -->
  <script src="script.js"></script>
</body>
</html>
